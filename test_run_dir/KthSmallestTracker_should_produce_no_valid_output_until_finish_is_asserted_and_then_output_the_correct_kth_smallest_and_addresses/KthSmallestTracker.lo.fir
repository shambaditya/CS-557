FIRRTL version 1.1.0
circuit KthSmallestTracker :
  module KthSmallestTracker :
    input clock : Clock
    input reset : UInt<1>
    output io_in_ready : UInt<1>
    input io_in_valid : UInt<1>
    input io_in_bits_distance : UInt<32>
    input io_in_bits_addr : UInt<8>
    input io_finish : UInt<1>
    input io_kthOut_ready : UInt<1>
    output io_kthOut_valid : UInt<1>
    output io_kthOut_bits : UInt<32>
    output io_addrOut_0 : UInt<8>
    output io_addrOut_1 : UInt<8>
    output io_addrOut_2 : UInt<8>
    output io_addrValid : UInt<1>

    node _defaultEntry_distance_T = shl(UInt<1>("h1"), 31) @[KthSmallestTracker.scala 24:33]
    reg heap_0_distance : UInt<32>, clock with :
      reset => (UInt<1>("h0"), heap_0_distance) @[KthSmallestTracker.scala 28:22]
    reg heap_0_addr : UInt<8>, clock with :
      reset => (UInt<1>("h0"), heap_0_addr) @[KthSmallestTracker.scala 28:22]
    reg heap_1_distance : UInt<32>, clock with :
      reset => (UInt<1>("h0"), heap_1_distance) @[KthSmallestTracker.scala 28:22]
    reg heap_1_addr : UInt<8>, clock with :
      reset => (UInt<1>("h0"), heap_1_addr) @[KthSmallestTracker.scala 28:22]
    reg heap_2_distance : UInt<32>, clock with :
      reset => (UInt<1>("h0"), heap_2_distance) @[KthSmallestTracker.scala 28:22]
    reg heap_2_addr : UInt<8>, clock with :
      reset => (UInt<1>("h0"), heap_2_addr) @[KthSmallestTracker.scala 28:22]
    reg count : UInt<2>, clock with :
      reset => (UInt<1>("h0"), count) @[KthSmallestTracker.scala 29:22]
    node _T = gt(heap_1_distance, heap_0_distance) @[KthSmallestTracker.scala 38:30]
    node _T_1_distance = mux(_T, heap_1_distance, heap_0_distance) @[KthSmallestTracker.scala 38:13]
    node _T_1_addr = mux(_T, heap_1_addr, heap_0_addr) @[KthSmallestTracker.scala 38:13]
    node _T_2 = gt(heap_1_distance, heap_0_distance) @[KthSmallestTracker.scala 39:30]
    node _T_3 = mux(_T_2, UInt<1>("h1"), UInt<1>("h0")) @[KthSmallestTracker.scala 39:13]
    node _T_4 = gt(heap_2_distance, _T_1_distance) @[KthSmallestTracker.scala 38:30]
    node maxEntry_distance = mux(_T_4, heap_2_distance, _T_1_distance) @[KthSmallestTracker.scala 38:13]
    node maxEntry_addr = mux(_T_4, heap_2_addr, _T_1_addr) @[KthSmallestTracker.scala 38:13]
    node _T_5 = gt(heap_2_distance, _T_1_distance) @[KthSmallestTracker.scala 39:30]
    node maxIdx = mux(_T_5, UInt<2>("h2"), _T_3) @[KthSmallestTracker.scala 39:13]
    node _T_6 = eq(count, UInt<1>("h0")) @[KthSmallestTracker.scala 46:14]
    node _validEntries_0_T = lt(UInt<1>("h0"), count) @[KthSmallestTracker.scala 51:34]
    node defaultEntry_distance = _defaultEntry_distance_T @[KthSmallestTracker.scala 23:26 24:25]
    node _validEntries_0_T_1_distance = mux(_validEntries_0_T, heap_0_distance, defaultEntry_distance) @[KthSmallestTracker.scala 51:29]
    node defaultEntry_addr = UInt<8>("h0") @[KthSmallestTracker.scala 23:26 25:25]
    node _validEntries_0_T_1_addr = mux(_validEntries_0_T, heap_0_addr, defaultEntry_addr) @[KthSmallestTracker.scala 51:29]
    node _validEntries_1_T = lt(UInt<1>("h1"), count) @[KthSmallestTracker.scala 51:34]
    node _validEntries_1_T_1_distance = mux(_validEntries_1_T, heap_1_distance, defaultEntry_distance) @[KthSmallestTracker.scala 51:29]
    node _validEntries_1_T_1_addr = mux(_validEntries_1_T, heap_1_addr, defaultEntry_addr) @[KthSmallestTracker.scala 51:29]
    node _validEntries_2_T = lt(UInt<2>("h2"), count) @[KthSmallestTracker.scala 51:34]
    node _validEntries_2_T_1_distance = mux(_validEntries_2_T, heap_2_distance, defaultEntry_distance) @[KthSmallestTracker.scala 51:29]
    node _validEntries_2_T_1_addr = mux(_validEntries_2_T, heap_2_addr, defaultEntry_addr) @[KthSmallestTracker.scala 51:29]
    node validEntries_0_distance = _validEntries_0_T_1_distance @[KthSmallestTracker.scala 49:28 51:23]
    node validEntries_1_distance = _validEntries_1_T_1_distance @[KthSmallestTracker.scala 49:28 51:23]
    node _currentMax_T = gt(validEntries_0_distance, validEntries_1_distance) @[KthSmallestTracker.scala 53:64]
    node _currentMax_T_1_distance = mux(_currentMax_T, validEntries_0_distance, validEntries_1_distance) @[KthSmallestTracker.scala 53:52]
    node validEntries_0_addr = _validEntries_0_T_1_addr @[KthSmallestTracker.scala 49:28 51:23]
    node validEntries_1_addr = _validEntries_1_T_1_addr @[KthSmallestTracker.scala 49:28 51:23]
    node _currentMax_T_1_addr = mux(_currentMax_T, validEntries_0_addr, validEntries_1_addr) @[KthSmallestTracker.scala 53:52]
    node validEntries_2_distance = _validEntries_2_T_1_distance @[KthSmallestTracker.scala 49:28 51:23]
    node _currentMax_T_2 = gt(_currentMax_T_1_distance, validEntries_2_distance) @[KthSmallestTracker.scala 53:64]
    node _currentMax_T_3_distance = mux(_currentMax_T_2, _currentMax_T_1_distance, validEntries_2_distance) @[KthSmallestTracker.scala 53:52]
    node validEntries_2_addr = _validEntries_2_T_1_addr @[KthSmallestTracker.scala 49:28 51:23]
    node _currentMax_T_3_addr = mux(_currentMax_T_2, _currentMax_T_1_addr, validEntries_2_addr) @[KthSmallestTracker.scala 53:52]
    node _GEN_0 = mux(_T_6, defaultEntry_distance, _currentMax_T_3_distance) @[KthSmallestTracker.scala 46:23 47:16 53:16]
    node _GEN_1 = mux(_T_6, defaultEntry_addr, _currentMax_T_3_addr) @[KthSmallestTracker.scala 46:23 47:16 53:16]
    node _kthEntry_T = eq(count, UInt<2>("h3")) @[KthSmallestTracker.scala 57:28]
    node currentMax_distance = _GEN_0 @[KthSmallestTracker.scala 45:24]
    node kthEntry_distance = mux(_kthEntry_T, maxEntry_distance, currentMax_distance) @[KthSmallestTracker.scala 57:21]
    node currentMax_addr = _GEN_1 @[KthSmallestTracker.scala 45:24]
    node kthEntry_addr = mux(_kthEntry_T, maxEntry_addr, currentMax_addr) @[KthSmallestTracker.scala 57:21]
    node _T_7 = lt(count, UInt<2>("h3")) @[KthSmallestTracker.scala 61:16]
    node _heap_count_distance = io_in_bits_distance @[KthSmallestTracker.scala 62:{19,19}]
    node _GEN_2 = mux(eq(UInt<1>("h0"), count), _heap_count_distance, heap_0_distance) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _GEN_3 = mux(eq(UInt<1>("h1"), count), _heap_count_distance, heap_1_distance) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _GEN_4 = mux(eq(UInt<2>("h2"), count), _heap_count_distance, heap_2_distance) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _heap_count_addr = io_in_bits_addr @[KthSmallestTracker.scala 62:{19,19}]
    node _GEN_5 = mux(eq(UInt<1>("h0"), count), _heap_count_addr, heap_0_addr) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _GEN_6 = mux(eq(UInt<1>("h1"), count), _heap_count_addr, heap_1_addr) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _GEN_7 = mux(eq(UInt<2>("h2"), count), _heap_count_addr, heap_2_addr) @[KthSmallestTracker.scala 62:{19,19} 28:22]
    node _count_T = add(count, UInt<1>("h1")) @[KthSmallestTracker.scala 63:22]
    node _count_T_1 = tail(_count_T, 1) @[KthSmallestTracker.scala 63:22]
    node _T_8 = lt(io_in_bits_distance, kthEntry_distance) @[KthSmallestTracker.scala 64:37]
    node _heap_maxIdx_distance = io_in_bits_distance @[KthSmallestTracker.scala 65:{20,20}]
    node _GEN_8 = mux(eq(UInt<1>("h0"), maxIdx), _heap_maxIdx_distance, heap_0_distance) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _GEN_9 = mux(eq(UInt<1>("h1"), maxIdx), _heap_maxIdx_distance, heap_1_distance) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _GEN_10 = mux(eq(UInt<2>("h2"), maxIdx), _heap_maxIdx_distance, heap_2_distance) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _heap_maxIdx_addr = io_in_bits_addr @[KthSmallestTracker.scala 65:{20,20}]
    node _GEN_11 = mux(eq(UInt<1>("h0"), maxIdx), _heap_maxIdx_addr, heap_0_addr) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _GEN_12 = mux(eq(UInt<1>("h1"), maxIdx), _heap_maxIdx_addr, heap_1_addr) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _GEN_13 = mux(eq(UInt<2>("h2"), maxIdx), _heap_maxIdx_addr, heap_2_addr) @[KthSmallestTracker.scala 65:{20,20} 28:22]
    node _GEN_14 = mux(_T_8, _GEN_8, heap_0_distance) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_15 = mux(_T_8, _GEN_9, heap_1_distance) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_16 = mux(_T_8, _GEN_10, heap_2_distance) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_17 = mux(_T_8, _GEN_11, heap_0_addr) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_18 = mux(_T_8, _GEN_12, heap_1_addr) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_19 = mux(_T_8, _GEN_13, heap_2_addr) @[KthSmallestTracker.scala 28:22 64:58]
    node _GEN_20 = mux(_T_7, _GEN_2, _GEN_14) @[KthSmallestTracker.scala 61:23]
    node _GEN_21 = mux(_T_7, _GEN_3, _GEN_15) @[KthSmallestTracker.scala 61:23]
    node _GEN_22 = mux(_T_7, _GEN_4, _GEN_16) @[KthSmallestTracker.scala 61:23]
    node _GEN_23 = mux(_T_7, _GEN_5, _GEN_17) @[KthSmallestTracker.scala 61:23]
    node _GEN_24 = mux(_T_7, _GEN_6, _GEN_18) @[KthSmallestTracker.scala 61:23]
    node _GEN_25 = mux(_T_7, _GEN_7, _GEN_19) @[KthSmallestTracker.scala 61:23]
    node _GEN_26 = mux(_T_7, _count_T_1, count) @[KthSmallestTracker.scala 61:23 63:13 29:22]
    node _GEN_27 = mux(io_in_valid, _GEN_20, heap_0_distance) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_28 = mux(io_in_valid, _GEN_21, heap_1_distance) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_29 = mux(io_in_valid, _GEN_22, heap_2_distance) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_30 = mux(io_in_valid, _GEN_23, heap_0_addr) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_31 = mux(io_in_valid, _GEN_24, heap_1_addr) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_32 = mux(io_in_valid, _GEN_25, heap_2_addr) @[KthSmallestTracker.scala 60:21 28:22]
    node _GEN_33 = mux(io_in_valid, _GEN_26, count) @[KthSmallestTracker.scala 60:21 29:22]
    node _heap_WIRE_0_distance = defaultEntry_distance @[KthSmallestTracker.scala 28:{30,30}]
    node _heap_WIRE_0_addr = defaultEntry_addr @[KthSmallestTracker.scala 28:{30,30}]
    node _heap_WIRE_1_distance = defaultEntry_distance @[KthSmallestTracker.scala 28:{30,30}]
    node _heap_WIRE_1_addr = defaultEntry_addr @[KthSmallestTracker.scala 28:{30,30}]
    node _heap_WIRE_2_distance = defaultEntry_distance @[KthSmallestTracker.scala 28:{30,30}]
    node _heap_WIRE_2_addr = defaultEntry_addr @[KthSmallestTracker.scala 28:{30,30}]
    io_in_ready <= UInt<1>("h1") @[KthSmallestTracker.scala 75:15]
    io_kthOut_valid <= io_finish @[KthSmallestTracker.scala 71:19]
    io_kthOut_bits <= kthEntry_distance @[KthSmallestTracker.scala 70:19]
    io_addrOut_0 <= heap_0_addr @[KthSmallestTracker.scala 79:19]
    io_addrOut_1 <= heap_1_addr @[KthSmallestTracker.scala 79:19]
    io_addrOut_2 <= heap_2_addr @[KthSmallestTracker.scala 79:19]
    io_addrValid <= io_finish @[KthSmallestTracker.scala 72:19]
    heap_0_distance <= mux(reset, _heap_WIRE_0_distance, _GEN_27) @[KthSmallestTracker.scala 28:{22,22}]
    heap_0_addr <= mux(reset, _heap_WIRE_0_addr, _GEN_30) @[KthSmallestTracker.scala 28:{22,22}]
    heap_1_distance <= mux(reset, _heap_WIRE_1_distance, _GEN_28) @[KthSmallestTracker.scala 28:{22,22}]
    heap_1_addr <= mux(reset, _heap_WIRE_1_addr, _GEN_31) @[KthSmallestTracker.scala 28:{22,22}]
    heap_2_distance <= mux(reset, _heap_WIRE_2_distance, _GEN_29) @[KthSmallestTracker.scala 28:{22,22}]
    heap_2_addr <= mux(reset, _heap_WIRE_2_addr, _GEN_32) @[KthSmallestTracker.scala 28:{22,22}]
    count <= mux(reset, UInt<2>("h0"), _GEN_33) @[KthSmallestTracker.scala 29:{22,22}]
